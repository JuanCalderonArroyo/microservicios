{
    "ms-79073483-pepito": {
        "code": "from flask import Flask, request, jsonify\r\nimport requests\r\napp = Flask(__name__)\r\n@app.route(\"/\")\r\ndef saludar():\r\n  return jsonify({\"mensaje\": \"Hola Roger\"})\r\nif __name__ == \"__main__\":\r\n\tapp.run(host=\"0.0.0.0\", port=8000)",
        "port": "5001"
    },
    "ms-516de023-roble": {
        "code": "from flask import Flask, request, jsonify\nimport requests\napp = Flask(__name__)\n@app.route(\"/\")\ndef index():\r\n   return \"\"\"\r\n   <!DOCTYPE html>\r\n   <html lang=\"es\">\r\n   <head>\r\n      <meta charset=\"UTF-8\">\r\n      <title>Consulta a Roble</title>\r\n      <style>\r\n         body {\r\n            font-family: Arial, sans-serif;\r\n            background-color: #f4f4f9;\r\n            padding: 40px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n         }\r\n         h1 { color: #333; }\r\n         textarea, input {\r\n            width: 400px;\r\n            margin: 10px 0;\r\n            padding: 10px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 8px;\r\n            font-size: 14px;\r\n         }\r\n         button {\r\n            background-color: #007BFF;\r\n            color: white;\r\n            border: none;\r\n            padding: 10px 20px;\r\n            border-radius: 8px;\r\n            cursor: pointer;\r\n            font-size: 16px;\r\n         }\r\n         button:hover { background-color: #0056b3; }\r\n         pre {\r\n            background: #eee;\r\n            padding: 15px;\r\n            border-radius: 8px;\r\n            max-width: 600px;\r\n            overflow-x: auto;\r\n            white-space: pre-wrap;\r\n            word-wrap: break-word;\r\n         }\r\n      </style>\r\n   </head>\r\n   <body>\r\n      <h1>Consulta a Roble</h1>\r\n      <p>Introduce el access token, el ID del proyecto y el nombre de la tabla:</p>\r\n\r\n      <input type=\"text\" id=\"tokenInput\" placeholder=\"Access token\"><br>\r\n      <input type=\"text\" id=\"idInput\" placeholder=\"ID del proyecto (por ejemplo: probando_49357d021e)\"><br>\r\n      <input type=\"text\" id=\"tablaInput\" placeholder=\"Nombre de la tabla\"><br>\r\n\r\n      <button onclick=\"consultar()\">Consultar</button>\r\n\r\n      <h3>Resultado:</h3>\r\n      <pre id=\"resultado\"></pre>\r\n\r\n      <script>\r\n      async function consultar() {\r\n          const token = document.getElementById(\"tokenInput\").value.trim();\r\n          const id = document.getElementById(\"idInput\").value.trim();\r\n          const tabla = document.getElementById(\"tablaInput\").value.trim();\r\n          const resultado = document.getElementById(\"resultado\");\r\n\r\n          if (!token || !id || !tabla) {\r\n              resultado.textContent = \"Por favor, completa todos los campos.\";\r\n              return;\r\n          }\r\n\r\n          resultado.textContent = \"Consultando...\";\r\n\r\n          try {\r\n            // Mandamos el token, id y tabla en el body JSON\r\n              const res = await fetch(`/consultar`, {\r\n                  method: \"POST\",\r\n                  headers: { \"Content-Type\": \"application/json\" },\r\n                  body: JSON.stringify({ accessToken: token, id: id, tabla: tabla })\r\n              });\r\n\r\n              const json = await res.json();\r\n              resultado.textContent = JSON.stringify(json, null, 2);\r\n          } catch (err) {\r\n              resultado.textContent = \"\u274c Error al hacer la consulta: \" + err;\r\n          }\r\n      }\r\n      </script>\r\n   </body>\r\n   </html>\r\n   \"\"\"\r\n\r\n\r\n@app.route(\"/consultar\", methods=[\"POST\"])\r\ndef consultar():\r\n   try:\r\n       data = request.get_json()\r\n       access_token = data.get(\"accessToken\", \"\")\r\n       project_id = data.get(\"id\", \"\")\r\n       table_name = data.get(\"tabla\", \"\")\r\n\r\n       if not access_token or not project_id or not table_name:\r\n           return jsonify({\r\n               \"error\": \"Faltan par\u00e1metros requeridos\",\r\n               \"detalle\": {\r\n                   \"accessToken\": bool(access_token),\r\n                   \"id\": bool(project_id),\r\n                   \"tabla\": bool(table_name)\r\n               }\r\n           }), 400\r\n\r\n       res = requests.get(\r\n           f\"https://roble-api.openlab.uninorte.edu.co/database/{project_id}/read\",\r\n           headers={\"Authorization\": f\"Bearer {access_token}\"},\r\n           params={\"tableName\": table_name}\r\n       )\r\n\r\n       return jsonify(res.json()), res.status_code\r\n\r\n   except Exception as e:\r\n       return jsonify({\"error\": str(e)}), 500\nif __name__ == \"__main__\":\n\tapp.run(host=\"0.0.0.0\", port=8000)",
        "port": "5000"
    },
    "ms-8530225b-a1": {
        "code": "from flask import Flask, request, jsonify\nimport requests\napp = Flask(__name__)\n@app.route(\"/\")\ndef saludar():\r\n    return jsonify({\"mensaje\": \"Hola mundo\"})\nif __name__ == \"__main__\":\n\tapp.run(host=\"0.0.0.0\", port=8000)",
        "port": "5002"
    },
    "ms-de09853d-1a": {
        "code": "from flask import Flask, request, jsonify\nimport requests\napp = Flask(__name__)\n@app.route(\"/\")\ndef saludar():\r\n    return jsonify({\"mensaje\": \"Hola mundo\"})\nif __name__ == \"__main__\":\n\tapp.run(host=\"0.0.0.0\", port=8000)",
        "port": "5003"
    }
}